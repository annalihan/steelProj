steel.d("utils/module/layer",[],function(t,e,i){STK.register("utils.module.layer",function(t){var e=function(t){var e={};return"none"==t.style.display?(t.style.visibility="hidden",t.style.display="",e.w=t.offsetWidth,e.h=t.offsetHeight,t.style.display="none",t.style.visibility="visible"):(e.w=t.offsetWidth,e.h=t.offsetHeight),e},i=function(i,n){n=n||"topleft";var o=null;if("none"==i.style.display?(i.style.visibility="hidden",i.style.display="",o=t.core.dom.position(i),i.style.display="none",i.style.visibility="visible"):o=t.core.dom.position(i),"topleft"!==n){var s=e(i);"topright"===n?o.l=o.l+s.w:"bottomleft"===n?o.t=o.t+s.h:"bottomright"===n&&(o.l=o.l+s.w,o.t=o.t+s.h)}return o};return function(n){var o=t.core.dom.builder(n),s=o.list.outer[0],l=o.list.inner[0],r=t.core.dom.uniqueID(s),a={},c=t.core.evt.custEvent.define(a,"show");t.core.evt.custEvent.define(c,"hide");var u=null;return a.show=function(){return s.style.display="",t.core.evt.custEvent.fire(c,"show"),a},a.hide=function(){return s.style.display="none",t.custEvent.fire(c,"hide"),a},a.getPosition=function(t){return i(s,t)},a.getSize=function(t){return(t||!u)&&(u=e.apply(a,[s])),u},a.html=function(t){return void 0!==t&&(l.innerHTML=t),l.innerHTML},a.text=function(e){return void 0!==text&&(l.innerHTML=t.core.str.encodeHTML(e)),t.core.str.decodeHTML(l.innerHTML)},a.appendChild=function(t){return l.appendChild(t),a},a.getUniqueID=function(){return r},a.getOuter=function(){return s},a.getInner=function(){return l},a.getParentNode=function(){return s.parentNode},a.getDomList=function(){return o.list},a.getDomListByKey=function(t){return o.list[t]},a.getDom=function(t,e){return o.list[t]?o.list[t][e||0]:!1},a.getCascadeDom=function(e,i){return o.list[e]?t.core.dom.cascadeNode(o.list[e][i||0]):!1},a}})}),steel.d("ui/tipPrototype",["utils/module/layer"],function(t,e,i){t("utils/module/layer"),STK.register("ui.tipPrototype",function(t){var e=10003;return function(i){var n,o,s,l,r,a='<div node-type="outer" style="position: absolute; clear: both; display:none;overflow:hidden;z-index:10003;" ><div node-type="inner" ></div></div>';return n=t.parseParam({direct:"up",showCallback:t.core.func.empty,hideCallback:t.core.func.empty},i),o=t.utils.module.layer(a,n),s=o.getOuter(),l=o.getInner(),o.setTipWH=function(){return r=this.getSize(!0),this.tipWidth=r.w,this.tipHeight=r.h,this},o.setTipWH(),o.setContent=function(t){return"string"==typeof t?l.innerHTML=t:l.appendChild(t),this.setTipWH(),this},o.setLayerXY=function(i){if(!i)throw"ui.tipPrototype need pNode as first parameter to set tip position";var o=STK.core.dom.position(i),l=o.l,r=i.offsetWidth,a=i.offsetHeight,c=Math.min(Math.max(l+(r-this.tipWidth)/2,t.scrollPos().left),t.scrollPos().left+STK.winSize().width-this.tipWidth),u=o.t;"down"===n.direct&&(u+=a);var d=[";"];d.push("z-index:",e++,";"),d.push("width:",this.tipWidth,"px;"),d.push("height:",this.tipHeight,"px;"),d.push("top:",u,"px;"),d.push("left:",c,"px;"),s.style.cssText+=d.join("")},o.aniShow=function(){var e=this.getOuter();e.style.height="0px",e.style.display="";var i=t.core.ani.tween(e,{end:n.showCallback,duration:250,animationType:"easeoutcubic"});if("down"===n.direct)i.play({height:this.tipHeight},{staticStyle:"overflow:hidden;position:absolute;"});else{var o=parseInt(e.style.top,10)-this.tipHeight;i.play({height:this.tipHeight,top:Math.max(o,t.scrollPos().top)},{staticStyle:"overflow:hidden;position:absolute;"})}},o.anihide=function(){var e=this.getOuter(),i=this,o=t.core.ani.tween(e,{end:function(){e.style.display="none",e.style.height=i.tipHeight+"px",n.hideCallback()},duration:300,animationType:"easeoutcubic"});if("down"===n.direct)o.play({height:0},{staticStyle:"overflow:hidden;position:absolute;"});else{var s=parseInt(e.style.top,10)+this.tipHeight;o.play({height:0,top:s},{staticStyle:"overflow:hidden;position:absolute;"})}},document.body.appendChild(s),o.destroy=function(){document.body.removeChild(s),o=null},o}})}),steel.d("utils/kit/extra/language",[],function(t,e,i){STK.register("utils.kit.extra.language",function(t){return window.$LANG||(window.$LANG={}),function(e,i){var n=t.core.util.language(e,$LANG);return n=n.replace(/\\}/gi,"}"),i&&(n=t.templet(n,i)),n}})}),steel.d("ui/tipConfirm",["ui/tipPrototype","utils/kit/extra/language"],function(t,e,i){t("ui/tipPrototype"),t("utils/kit/extra/language"),STK.register("ui.tipConfirm",function(t){var e=t.utils.kit.extra.language;return function(i){i=i||{};var n=t.ui.tipPrototype(i),o=n.getInner(),s=n.getOuter();s.className="W_layer",o.className="bg",i.info=i.info||e("#L{确认要删除这条微博吗}？"),i.icon=i.icon||"icon_ask";var l=i.template||e('<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td><div class="content layer_mini_info"><p class="clearfix" node-type="info"><span node-type="icon" class="'+i.icon+'"></span>'+i.info+'</p><p class="btn"><a node-type="ok" class="W_btn_b" href="javascript:void(0)"><span>#L{确定}</span></a><a class="W_btn_a" node-type="cancel" href="javascript:void(0)"><span>#L{取消}</span></a></p></div></td></tr></tbody></table>'),r=t.builder(l);if(n.setContent(r.box),!r.list.ok)return n;var a=r.list.ok[0],c=r.list.cancel[0];n.setIcon=function(t){r.list.info.className=t,n.setTipWH()},n.setInfo=function(t){r.list.info[0].innerHTML='<span node-type="icon" class="'+i.icon+'"></span>'+t,n.setTipWH()},n.cancelCallback=function(){"function"==t.getType(i.cancelCallback)&&i.cancelCallback()},n.okCallback=function(){"function"==t.getType(i.okCallback)&&i.okCallback()};var u=function(){n.anihide(),n.cancelCallback()},d=function(){n.anihide(),n.okCallback()};t.addEvent(c,"click",u),t.addEvent(a,"click",d);var p=n.destroy;return n.destroy=function(){t.removeEvent(c,"click",u),t.removeEvent(a,"click",d),p(),n=null},n}})});