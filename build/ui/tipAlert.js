steel.d("utils/module/layer",[],function(t,e,i){STK.register("utils.module.layer",function(t){var e=function(t){var e={};return"none"==t.style.display?(t.style.visibility="hidden",t.style.display="",e.w=t.offsetWidth,e.h=t.offsetHeight,t.style.display="none",t.style.visibility="visible"):(e.w=t.offsetWidth,e.h=t.offsetHeight),e},i=function(i,n){n=n||"topleft";var o=null;if("none"==i.style.display?(i.style.visibility="hidden",i.style.display="",o=t.core.dom.position(i),i.style.display="none",i.style.visibility="visible"):o=t.core.dom.position(i),"topleft"!==n){var r=e(i);"topright"===n?o.l=o.l+r.w:"bottomleft"===n?o.t=o.t+r.h:"bottomright"===n&&(o.l=o.l+r.w,o.t=o.t+r.h)}return o};return function(n){var o=t.core.dom.builder(n),r=o.list.outer[0],s=o.list.inner[0],l=t.core.dom.uniqueID(r),a={},u=t.core.evt.custEvent.define(a,"show");t.core.evt.custEvent.define(u,"hide");var d=null;return a.show=function(){return r.style.display="",t.core.evt.custEvent.fire(u,"show"),a},a.hide=function(){return r.style.display="none",t.custEvent.fire(u,"hide"),a},a.getPosition=function(t){return i(r,t)},a.getSize=function(t){return(t||!d)&&(d=e.apply(a,[r])),d},a.html=function(t){return void 0!==t&&(s.innerHTML=t),s.innerHTML},a.text=function(e){return void 0!==text&&(s.innerHTML=t.core.str.encodeHTML(e)),t.core.str.decodeHTML(s.innerHTML)},a.appendChild=function(t){return s.appendChild(t),a},a.getUniqueID=function(){return l},a.getOuter=function(){return r},a.getInner=function(){return s},a.getParentNode=function(){return r.parentNode},a.getDomList=function(){return o.list},a.getDomListByKey=function(t){return o.list[t]},a.getDom=function(t,e){return o.list[t]?o.list[t][e||0]:!1},a.getCascadeDom=function(e,i){return o.list[e]?t.core.dom.cascadeNode(o.list[e][i||0]):!1},a}})}),steel.d("ui/tipPrototype",["utils/module/layer"],function(t,e,i){t("utils/module/layer"),STK.register("ui.tipPrototype",function(t){var e=10003;return function(i){var n,o,r,s,l,a='<div node-type="outer" style="position: absolute; clear: both; display:none;overflow:hidden;z-index:10003;" ><div node-type="inner" ></div></div>';return n=t.parseParam({direct:"up",showCallback:t.core.func.empty,hideCallback:t.core.func.empty},i),o=t.utils.module.layer(a,n),r=o.getOuter(),s=o.getInner(),o.setTipWH=function(){return l=this.getSize(!0),this.tipWidth=l.w,this.tipHeight=l.h,this},o.setTipWH(),o.setContent=function(t){return"string"==typeof t?s.innerHTML=t:s.appendChild(t),this.setTipWH(),this},o.setLayerXY=function(i){if(!i)throw"ui.tipPrototype need pNode as first parameter to set tip position";var o=STK.core.dom.position(i),s=o.l,l=i.offsetWidth,a=i.offsetHeight,u=Math.min(Math.max(s+(l-this.tipWidth)/2,t.scrollPos().left),t.scrollPos().left+STK.winSize().width-this.tipWidth),d=o.t;"down"===n.direct&&(d+=a);var p=[";"];p.push("z-index:",e++,";"),p.push("width:",this.tipWidth,"px;"),p.push("height:",this.tipHeight,"px;"),p.push("top:",d,"px;"),p.push("left:",u,"px;"),r.style.cssText+=p.join("")},o.aniShow=function(){var e=this.getOuter();e.style.height="0px",e.style.display="";var i=t.core.ani.tween(e,{end:n.showCallback,duration:250,animationType:"easeoutcubic"});if("down"===n.direct)i.play({height:this.tipHeight},{staticStyle:"overflow:hidden;position:absolute;"});else{var o=parseInt(e.style.top,10)-this.tipHeight;i.play({height:this.tipHeight,top:Math.max(o,t.scrollPos().top)},{staticStyle:"overflow:hidden;position:absolute;"})}},o.anihide=function(){var e=this.getOuter(),i=this,o=t.core.ani.tween(e,{end:function(){e.style.display="none",e.style.height=i.tipHeight+"px",n.hideCallback()},duration:300,animationType:"easeoutcubic"});if("down"===n.direct)o.play({height:0},{staticStyle:"overflow:hidden;position:absolute;"});else{var r=parseInt(e.style.top,10)+this.tipHeight;o.play({height:0,top:r},{staticStyle:"overflow:hidden;position:absolute;"})}},document.body.appendChild(r),o.destroy=function(){document.body.removeChild(r),o=null},o}})}),steel.d("ui/tipAlert",["ui/tipPrototype"],function(t,e,i){t("ui/tipPrototype"),STK.register("ui.tipAlert",function(t){var e=t.core.util.easyTemplate;return function(i){i=t.parseParam({direct:"up",showCallback:t.core.func.empty,hideCallback:t.core.func.empty,type:"succ",msg:""},i);var n=t.ui.tipPrototype(i),o=n.getInner(),r=n.getOuter();r.className="W_layer",o.className="bg";var s=i.template||'<#et temp data><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td><div node-type="msgDiv" class="content layer_mini_info"><p class="clearfix"><span class="icon_${data.type}"></span>${data.msg}&nbsp; &nbsp; &nbsp; </p></div></td></tr></tbody></table></#et>',l=t.builder(e(s,{type:i.type,msg:i.msg}).toString());n.setContent(l.box);var a=n.destroy;return n.destroy=function(){a(),n=null},n}})});