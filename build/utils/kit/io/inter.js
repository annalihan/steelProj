steel.d("utils/kit/extra/merge",[],function(t,e,i){STK.register("utils.kit.extra.merge",function(t){return function(t,e){var i={};for(var o in t)i[o]=t[o];for(var o in e)i[o]=e[o];return i}})}),steel.d("utils/kit/io/ajax",["utils/kit/extra/merge"],function(t,e,i){t("utils/kit/extra/merge"),STK.register("utils.kit.io.ajax",function(t){return function(e){var i,o,n,r,u,a,s;a=function(t){u=!1,e.onComplete(t,i.args),setTimeout(c,0)},s=function(t){u=!1,e.onFail(t,i.args),setTimeout(c,0)},n=[],r=null,u=!1,i=t.parseParam({url:"",method:"get",responseType:"json",timeout:3e4,onTraning:t.funcEmpty,isEncode:!0},e),i.onComplete=a,i.onFail=s;var c=function(){n.length&&u!==!0&&(u=!0,i.args=n.shift(),r=t.ajax(i))},l=function(t){for(;n.length;)n.shift();if(u=!1,r)try{r.abort()}catch(e){}r=null};return o={},o.request=function(t){t=t||{},t.superuid||!!$CONFIG.superuid&&(t.superuid=$CONFIG.superuid),t||(t={}),e.noQueue&&l(),e.uniqueRequest&&r||(n.push(t),t._t=0,c())},o.abort=l,o}})}),steel.d("utils/kit/io/jsonp",["utils/kit/extra/merge"],function(t,e,i){t("utils/kit/extra/merge"),STK.register("utils.kit.io.jsonp",function(t){return function(e){var i,o,n,r,u;i=t.parseParam({url:"",method:"get",responseType:"json",varkey:"_v",timeout:3e4,onComplete:t.funcEmpty,onTraning:t.funcEmpty,onFail:t.funcEmpty,isEncode:!0},e),n=[],r={},u=!1;var a=function(){n.length&&u!==!0&&(u=!0,r.args=n.shift(),r.onComplete=function(t){u=!1,i.onComplete(t,r.args),setTimeout(a,0)},r.onFail=function(t){u=!1,i.onFail(t),setTimeout(a,0)},t.jsonp(t.utils.kit.extra.merge(i,{args:r.args,onComplete:function(t){r.onComplete(t)},onFail:function(t){try{r.onFail(t)}catch(e){}}})))};return o={},o.request=function(t){t=t||{},t.superuid||!!$CONFIG.superuid&&(t.superuid=$CONFIG.superuid),t||(t={}),n.push(t),t._t=1,a()},o.abort=function(t){for(;n.length;)n.shift();u=!1,r=null},o}})}),steel.d("utils/kit/io/inter",["utils/kit/io/ajax","utils/kit/io/jsonp","utils/kit/extra/merge"],function(t,e,i){t("utils/kit/io/ajax"),t("utils/kit/io/jsonp"),t("utils/kit/extra/merge"),STK.register("utils.kit.io.inter",function(t){return function(){var e,i,o;return e={},i={},o={},e.register=function(t,e){if(void 0!==i[t])throw t+" interface has been registered";i[t]=e,o[t]={}},e.hookComplete=function(e,i){var n=t.core.util.getUniqueKey();return o[e][n]=i,n},e.removeHook=function(t,e){o[t]&&o[t][e]&&delete o[t][e]},e.getTrans=function(e,n){var r=t.utils.kit.extra.merge(i[e],n);return r.onComplete=function(t,i){try{n.onComplete(t,i)}catch(r){}if("100000"===t.code)try{n.onSuccess(t,i)}catch(r){}else try{if("100002"===t.code&&t.data&&"string"==typeof t.data&&0==t.data.indexOf("http"))return void(window.location.href=t.data);if(n.onError(t,i),"100002"===t.code||"100008"===t.code){var u={loginSuccessUrl:t.data.url?"http://weibo.com/p/aj/proxy?api="+t.data.url:""};return window.WBtopGlobal_loginLayer?void window.WBtopGlobal_loginLayer(u):void STK.core.io.scriptLoader({url:"http://tjs.sjs.sinajs.cn/t5/register/js/page/remote/loginLayer.js",onComplete:function(t,e){window.WBtopGlobal_loginLayer(u)}})}}catch(r){}for(var a in o[e])try{o[e][a](t,i)}catch(r){}},"jsonp"===i[e].requestMode?t.utils.kit.io.jsonp(r):"ijax"===i[e].requestMode?t.utils.kit.io.ijax(r):t.utils.kit.io.ajax(r)},e.request=function(e,n,r){var u=t.core.json.merge(i[e],n);return u.onComplete=function(t,i){try{n.onComplete(t,i)}catch(r){}if("100000"===t.code)try{n.onSuccess(t,i)}catch(r){}else try{if("100002"===t.code&&t.data&&"string"==typeof t.data&&0==t.data.indexOf("http"))return void(window.location.href=t.data);n.onError(t,i)}catch(r){}for(var u in o[e])try{o[e][u](t,i)}catch(r){}},u=t.core.obj.cut(u,["noqueue"]),u.args=r,"jsonp"===i[e].requestMode?t.jsonp(u):"ijax"===i[e].requestMode?t.ijax(u):t.ajax(u)},e}})});