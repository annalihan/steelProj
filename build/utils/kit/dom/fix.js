steel.d("utils/kit/dom/cssText",[],function(e,t,r){STK.register("utils.kit.dom.cssText",function(e){var t=function(e,t){for(var r,i=(e+";"+t).replace(/(\s*(;)\s*)|(\s*(:)\s*)/g,"$2$4");i&&(r=i.match(/(^|;)([\w\-]+:)([^;]*);(.*;)?\2/i));)i=i.replace(r[1]+r[2]+r[3],"");return i};return function(e){e=e||"";var r=[],i={push:function(e,t){return r.push(e+":"+t),i},remove:function(e){for(var t=0;t<r.length;t++)0==r[t].indexOf(e+":")&&r.splice(t,1);return i},getStyleList:function(){return r.slice()},getCss:function(){return t(e,r.join(";"))}};return i}})}),steel.d("utils/kit/dom/fix",["utils/kit/dom/cssText"],function(e,t,r){e("utils/kit/dom/cssText"),STK.register("utils.kit.dom.fix",function(e){function t(t){return"none"!=e.core.dom.getStyle(t,"display")}function r(t){t=e.core.arr.isArray(t)?t:[0,0];for(var r=0;2>r;r++)"number"!=typeof t[r]&&(t[r]=0);return t}function i(r,i,n){if(t(r)){var o,c,u,f,l="fixed",a=r.offsetWidth,d=r.offsetHeight,h=e.core.util.winSize(),v=0,p=0,b=e.utils.kit.dom.cssText(r.style.cssText);if(s)switch(o=f=n[1],c=u=n[0],i){case"lt":f=u="";break;case"lb":o=u="";break;case"rt":c=f="";break;case"rb":o=c="";break;case"c":default:o=(h.height-d)/2+n[1],c=(h.width-a)/2+n[0],f=u=""}else{l="absolute";var w=e.core.util.scrollPos();switch(v=o=w.top,p=c=w.left,i){case"lt":o+=n[1],c+=n[0];break;case"lb":o+=h.height-d-n[1],c+=n[0];break;case"rt":o+=n[1],c+=h.width-a-n[0];break;case"rb":o+=h.height-d-n[1],c+=h.width-a-n[0];break;case"c":default:o+=(h.height-d)/2+n[1],c+=(h.width-a)/2+n[0]}u=f=""}"c"==i&&(v>o&&(o=v),p>c&&(c=p)),b.push("position",l).push("top",o+"px").push("left",c+"px").push("right",u+"px").push("bottom",f+"px"),r.style.cssText=b.getCss()}}var s=!(e.core.util.browser.IE6||"CSS1Compat"!==document.compatMode&&STK.IE),n=/^(c)|(lt)|(lb)|(rt)|(rb)$/;return function(t,o,c){function u(r){r=r||window.event,e.core.evt.custEvent.fire(a,"beforeFix",r.type),!d||s&&"c"!=f||i(t,f,l)}var f,l,a,d=!0;if(e.core.dom.isNode(t)&&n.test(o)){var h={getNode:function(){return t},isFixed:function(){return d},setFixed:function(e){return(d=!!e)&&i(t,f,l),this},setAlign:function(e,s){return n.test(e)&&(f=e,l=r(s),d&&i(t,f,l)),this},destroy:function(){s||s&&e.core.evt.removeEvent(window,"scroll",u),e.core.evt.removeEvent(window,"resize",u),e.core.evt.custEvent.undefine(a)}};return a=e.core.evt.custEvent.define(h,"beforeFix"),h.setAlign(o,c),s||e.core.evt.addEvent(window,"scroll",u),e.core.evt.addEvent(window,"resize",u),h}}})});