steel.d("utils/kit/dom/substitute",[],function(t,e,s){STK.register("utils.kit.dom.substitute",function(t){var e={style:"border:solid #333 1px;background-color:#fff",step:6,type:"",className:"",onEnd:t.funcEmpty},s=[],u=function(e){for(var u,a=0,i=s.length;i>a;a+=1)if(s[a].used!==!0){u=s[a];break}return u||(u=t.C("DIV"),s.push(u)),u.className=e.className,n(u),u},n=function(t){document.body.appendChild(substitute),t.used=!0},a=function(t){document.body.removeChild(substitute),t.used=!1};return function(s,n){if(!t.isArray(s))throw"[kit.dom.substitute need array as first parameter]";var i;i=t.parseParam(e,n);var r=u({className:i.className});t.timedChunk(s,{process:function(t){r.style.cssText=t},callback:function(){a(r),i=null,r=null,i.onEnd()},execTime:-1})}})});