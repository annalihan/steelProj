steel.d("utils/kit/extra/propertyChange",[],function(t,e,r){STK.register("utils.kit.extra.propertyChange",function(t){var e=function(e){var r=t.C("DIV");document.body.appendChild(r);var i=!1,n=function(){i=!0};return t.addEvent(r,e,n),r.setAttribute("___TEMP___",!0),r.removeAttribute("___TEMP___"),t.removeEvent(r,e,n),document.body.removeChild(r),i},r=e("propertychange"),i=e("DOMAttrModified");return r||i||(HTMLPRO=HTMLElement.prototype,HTMLPRO.__setAttribute=HTMLPRO.setAttribute,HTMLPRO.__removeAttribute=HTMLPRO.removeAttribute,HTMLPRO.setAttribute=function(t,e){var r=this.getAttribute(t);if(this.__setAttribute(t,e),e=this.getAttribute(t),e!=r){var i=document.createEvent("MutationEvent");i.initMutationEvent("DOMAttrModified",!0,!1,this,r||"",e||"",t,null==r?i.ADDITION:i.MODIFICATION),this.dispatchEvent(i)}},HTMLPRO.removeAttribute=function(t){var e=this.getAttribute(t);this.__removeAttribute(t);var r=document.createEvent("MutationEvent");r.initMutationEvent("DOMAttrModified",!0,!1,this,e,"",t,r.REMOVAL),this.dispatchEvent(r)}),function(e){var i={},n={};return i.bind=function(i){var o=t.core.util.getUniqueKey();return n[o]=function(t){i({attrName:t.propertyName})},r?t.addEvent(e,"propertychange",n[o]):t.addEvent(e,"DOMAttrModified",n[o]),o},i.unBind=function(o){return r?t.removeEvent(e,"propertychange",n[o]):t.removeEvent(e,"DOMAttrModified",n[o]),delete n[o],i},i}})});