steel.d("utils/module/layer",[],function(t,e,n){STK.register("utils.module.layer",function(t){var e=function(t){var e={};return"none"==t.style.display?(t.style.visibility="hidden",t.style.display="",e.w=t.offsetWidth,e.h=t.offsetHeight,t.style.display="none",t.style.visibility="visible"):(e.w=t.offsetWidth,e.h=t.offsetHeight),e},n=function(n,i){i=i||"topleft";var r=null;if("none"==n.style.display?(n.style.visibility="hidden",n.style.display="",r=t.core.dom.position(n),n.style.display="none",n.style.visibility="visible"):r=t.core.dom.position(n),"topleft"!==i){var o=e(n);"topright"===i?r.l=r.l+o.w:"bottomleft"===i?r.t=r.t+o.h:"bottomright"===i&&(r.l=r.l+o.w,r.t=r.t+o.h)}return r};return function(i){var r=t.core.dom.builder(i),o=r.list.outer[0],s=r.list.inner[0],l=t.core.dom.uniqueID(o),u={},d=t.core.evt.custEvent.define(u,"show");t.core.evt.custEvent.define(d,"hide");var c=null;return u.show=function(){return o.style.display="",t.core.evt.custEvent.fire(d,"show"),u},u.hide=function(){return o.style.display="none",t.custEvent.fire(d,"hide"),u},u.getPosition=function(t){return n(o,t)},u.getSize=function(t){return(t||!c)&&(c=e.apply(u,[o])),c},u.html=function(t){return void 0!==t&&(s.innerHTML=t),s.innerHTML},u.text=function(e){return void 0!==text&&(s.innerHTML=t.core.str.encodeHTML(e)),t.core.str.decodeHTML(s.innerHTML)},u.appendChild=function(t){return s.appendChild(t),u},u.getUniqueID=function(){return l},u.getOuter=function(){return o},u.getInner=function(){return s},u.getParentNode=function(){return o.parentNode},u.getDomList=function(){return r.list},u.getDomListByKey=function(t){return r.list[t]},u.getDom=function(t,e){return r.list[t]?r.list[t][e||0]:!1},u.getCascadeDom=function(e,n){return r.list[e]?t.core.dom.cascadeNode(r.list[e][n||0]):!1},u}})});