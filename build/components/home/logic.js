steel.d("utils/kit/dom/parseDOM",[],function(t,e,i){STK.register("utils.kit.dom.parseDOM",function(t){return function(t){for(var e in t)t[e]&&1==t[e].length&&(t[e]=t[e][0]);return t}})}),steel.d("utils/kit/extra/language",[],function(t,e,i){STK.register("utils.kit.extra.language",function(t){return window.$LANG||(window.$LANG={}),function(e,i){var n=t.core.util.language(e,$LANG);return n=n.replace(/\\}/gi,"}"),i&&(n=t.templet(n,i)),n}})}),steel.d("utils/kit/extra/reuse",[],function(t,e,i){STK.register("utils.kit.extra.reuse",function(t){return function(e,i){var n,s,o;n=t.parseParam({},i),o=[];var r=function(){var t=e();return o.push({store:t,used:!0}),t},a=function(e){t.foreach(o,function(t,i){return e===t.store?(t.used=!0,!1):void 0})},h=function(e){t.foreach(o,function(t,i){return e===t.store?(t.used=!1,!1):void 0})},l=function(){for(var t=0,e=o.length;e>t;t+=1)if(o[t].used===!1)return o[t].used=!0,o[t].store;return r()};return s={},s.setUsed=a,s.setUnused=h,s.getOne=l,s.getLength=function(){return o.length},s}})}),steel.d("utils/module/layer",[],function(t,e,i){STK.register("utils.module.layer",function(t){var e=function(t){var e={};return"none"==t.style.display?(t.style.visibility="hidden",t.style.display="",e.w=t.offsetWidth,e.h=t.offsetHeight,t.style.display="none",t.style.visibility="visible"):(e.w=t.offsetWidth,e.h=t.offsetHeight),e},i=function(i,n){n=n||"topleft";var s=null;if("none"==i.style.display?(i.style.visibility="hidden",i.style.display="",s=t.core.dom.position(i),i.style.display="none",i.style.visibility="visible"):s=t.core.dom.position(i),"topleft"!==n){var o=e(i);"topright"===n?s.l=s.l+o.w:"bottomleft"===n?s.t=s.t+o.h:"bottomright"===n&&(s.l=s.l+o.w,s.t=s.t+o.h)}return s};return function(n){var s=t.core.dom.builder(n),o=s.list.outer[0],r=s.list.inner[0],a=t.core.dom.uniqueID(o),h={},l=t.core.evt.custEvent.define(h,"show");t.core.evt.custEvent.define(l,"hide");var c=null;return h.show=function(){return o.style.display="",t.core.evt.custEvent.fire(l,"show"),h},h.hide=function(){return o.style.display="none",t.custEvent.fire(l,"hide"),h},h.getPosition=function(t){return i(o,t)},h.getSize=function(t){return(t||!c)&&(c=e.apply(h,[o])),c},h.html=function(t){return void 0!==t&&(r.innerHTML=t),r.innerHTML},h.text=function(e){return void 0!==text&&(r.innerHTML=t.core.str.encodeHTML(e)),t.core.str.decodeHTML(r.innerHTML)},h.appendChild=function(t){return r.appendChild(t),h},h.getUniqueID=function(){return a},h.getOuter=function(){return o},h.getInner=function(){return r},h.getParentNode=function(){return o.parentNode},h.getDomList=function(){return s.list},h.getDomListByKey=function(t){return s.list[t]},h.getDom=function(t,e){return s.list[t]?s.list[t][e||0]:!1},h.getCascadeDom=function(e,i){return s.list[e]?t.core.dom.cascadeNode(s.list[e][i||0]):!1},h}})}),steel.d("utils/module/dialog",["utils/module/layer"],function(t,e,i){t("utils/module/layer"),STK.register("utils.module.dialog",function(t){return function(e,i){if(!e)throw"module.dialog need template as first parameter";var n,s,o,r,a,h,l,c,u,p,d,f;u=!0;var g=function(){u!==!1&&s.hide()},m=function(){n=t.parseParam({t:null,l:null,width:null,height:null},i),s=t.utils.module.layer(e,n),r=s.getOuter(),a=s.getDom("title"),c=s.getDom("title_content"),h=s.getDom("inner"),l=s.getDom("close"),t.addEvent(l,"click",function(){d()}),t.custEvent.add(s,"show",function(){t.hotKey.add(document.documentElement,["esc"],g,{type:"keyup",disableInInput:!0})}),t.custEvent.add(s,"hide",function(){t.hotKey.remove(document.documentElement,["esc"],g,{type:"keyup"}),u=!0})};return m(),f=t.objSup(s,["show","hide"]),d=function(e){return"function"!=typeof p||e||p()!==!1?(f.hide(),t.contains(document.body,s.getOuter())&&document.body.removeChild(s.getOuter()),o):!1},o=s,o.show=function(){return t.contains(document.body,s.getOuter())||document.body.appendChild(s.getOuter()),f.show(),o},o.hide=d,o.setPosition=function(t){return r.style.top=t.t+"px",r.style.left=t.l+"px",o},o.setMiddle=function(){var e,i=t.core.util.winSize(),n=s.getSize(!0);if(window.FrameInner&&window.FrameInner.outInfo){var a=FrameInner.outInfo;"string"==typeof a&&(a=t.strToJson(a));var h=a.parent.scroll.top,l=a.iframe.position.top,c=a.parent.size.height;e=h-l+(c-n.h)/2;var u=i.height-n.h;e>u&&(e=u)}else e=t.core.util.scrollPos().top+(i.height-n.h)/2;return r.style.top=(parseInt(e)>30?e:30)+"px",r.style.left=(i.width-n.w)/2+"px",window.FrameInner&&FrameInner.diaAutoHeight&&FrameInner.diaAutoHeight(r),o},o.setTitle=function(t){return c.innerHTML=t,o},o.setContent=function(t){return"string"==typeof t?h.innerHTML=t:h.appendChild(t),o},o.clearContent=function(){for(;h.children.length;)t.removeNode(h.children[0]);return o},o.setAlign=function(){},o.setBeforeHideFn=function(t){p=t},o.clearBeforeHideFn=function(){p=null},o.unsupportEsc=function(){u=!1},o.supportEsc=function(){u=!0},o}})}),steel.d("utils/kit/dom/cssText",[],function(t,e,i){STK.register("utils.kit.dom.cssText",function(t){var e=function(t,e){for(var i,n=(t+";"+e).replace(/(\s*(;)\s*)|(\s*(:)\s*)/g,"$2$4");n&&(i=n.match(/(^|;)([\w\-]+:)([^;]*);(.*;)?\2/i));)n=n.replace(i[1]+i[2]+i[3],"");return n};return function(t){t=t||"";var i=[],n={push:function(t,e){return i.push(t+":"+e),n},remove:function(t){for(var e=0;e<i.length;e++)0==i[e].indexOf(t+":")&&i.splice(e,1);return n},getStyleList:function(){return i.slice()},getCss:function(){return e(t,i.join(";"))}};return n}})}),steel.d("utils/kit/dom/fix",["utils/kit/dom/cssText"],function(t,e,i){t("utils/kit/dom/cssText"),STK.register("utils.kit.dom.fix",function(t){function e(e){return"none"!=t.core.dom.getStyle(e,"display")}function i(e){e=t.core.arr.isArray(e)?e:[0,0];for(var i=0;2>i;i++)"number"!=typeof e[i]&&(e[i]=0);return e}function n(i,n,o){if(e(i)){var r,a,h,l,c="fixed",u=i.offsetWidth,p=i.offsetHeight,d=t.core.util.winSize(),f=0,g=0,m=t.utils.kit.dom.cssText(i.style.cssText);if(s)switch(r=l=o[1],a=h=o[0],n){case"lt":l=h="";break;case"lb":r=h="";break;case"rt":a=l="";break;case"rb":r=a="";break;case"c":default:r=(d.height-p)/2+o[1],a=(d.width-u)/2+o[0],l=h=""}else{c="absolute";var v=t.core.util.scrollPos();switch(f=r=v.top,g=a=v.left,n){case"lt":r+=o[1],a+=o[0];break;case"lb":r+=d.height-p-o[1],a+=o[0];break;case"rt":r+=o[1],a+=d.width-u-o[0];break;case"rb":r+=d.height-p-o[1],a+=d.width-u-o[0];break;case"c":default:r+=(d.height-p)/2+o[1],a+=(d.width-u)/2+o[0]}h=l=""}"c"==n&&(f>r&&(r=f),g>a&&(a=g)),m.push("position",c).push("top",r+"px").push("left",a+"px").push("right",h+"px").push("bottom",l+"px"),i.style.cssText=m.getCss()}}var s=!(t.core.util.browser.IE6||"CSS1Compat"!==document.compatMode&&STK.IE),o=/^(c)|(lt)|(lb)|(rt)|(rb)$/;return function(e,r,a){function h(i){i=i||window.event,t.core.evt.custEvent.fire(u,"beforeFix",i.type),!p||s&&"c"!=l||n(e,l,c)}var l,c,u,p=!0;if(t.core.dom.isNode(e)&&o.test(r)){var d={getNode:function(){return e},isFixed:function(){return p},setFixed:function(t){return(p=!!t)&&n(e,l,c),this},setAlign:function(t,s){return o.test(t)&&(l=t,c=i(s),p&&n(e,l,c)),this},destroy:function(){s||s&&t.core.evt.removeEvent(window,"scroll",h),t.core.evt.removeEvent(window,"resize",h),t.core.evt.custEvent.undefine(u)}};return u=t.core.evt.custEvent.define(d,"beforeFix"),d.setAlign(r,a),s||t.core.evt.addEvent(window,"scroll",h),t.core.evt.addEvent(window,"resize",h),d}}})}),steel.d("utils/module/mask",["utils/kit/dom/fix"],function(t,e,i){t("utils/kit/dom/fix"),STK.register("utils.module.mask",function(t){function e(){n=t.C("div");var e='<div node-type="outer">';t.core.util.browser.IE6&&(e+='<div style="position:absolute;width:100%;height:100%;"></div>'),e+="</div>",n=t.builder(e).list.outer[0],document.body.appendChild(n),r=!0,s=t.utils.kit.dom.fix(n,"lt");var i=function(){var e=t.core.util.winSize();n.style.cssText=t.utils.kit.dom.cssText(n.style.cssText).push("width",e.width+"px").push("height",e.height+"px").getCss()};c.add(s,"beforeFix",i),i()}function i(e){var i;return(i=e.getAttribute(a))||e.setAttribute(a,i=t.getUniqueKey()),">"+e.tagName.toLowerCase()+"["+a+'="'+i+'"]'}var n,s,o=[],r=!1,a="STK-Mask-Key",h=t.core.dom.setStyle,l=t.core.dom.getStyle,c=t.core.evt.custEvent,u={getNode:function(){return n},show:function(i,o){return r?(i=t.core.obj.parseParam({opacity:0,background:"#000000"},i),n.style.background=i.background,h(n,"opacity",i.opacity),n.style.opacity=i.opacity,n.style.display="",s.setAlign("lt"),o&&o()):t.Ready(function(){e(),u.show(i,o)}),u},hide:function(){return n.style.display="none",nowIndex=void 0,o=[],u},showUnderNode:function(e,s){return t.isNode(e)&&u.show(s,function(){h(n,"zIndex",l(e,"zIndex"));var s=i(e),r=t.core.arr.indexOf(o,s);-1!=r&&o.splice(r,1),o.push(s),t.core.dom.insertElement(e,n,"beforebegin")}),u},back:function(){if(o.length<1)return u;var e,i;return o.pop(),o.length<1?u.hide():(i=o[o.length-1])&&(e=t.sizzle(i,document.body)[0])?(h(n,"zIndex",l(e,"zIndex")),t.core.dom.insertElement(e,n,"beforebegin")):u.back(),u},destroy:function(){c.remove(s),n.style.display="none",lastNode=void 0,_cache={}}};return u})}),steel.d("utils/kit/dom/drag",[],function(t,e,i){STK.register("utils.kit.dom.drag",function(t){return function(e,i){var n,s,o,r,a,h,l,c,u=function(){p(),d()},p=function(){n=t.parseParam({moveDom:e,perchStyle:"border:solid #999999 2px;",dragtype:"perch",actObj:{},pagePadding:5},i),o=n.moveDom,s={},r={},a=t.drag(e,{actObj:n.actObj}),"perch"===n.dragtype&&(h=t.C("div"),l=!1,c=!1,o=h),e.style.cursor="move"},d=function(){t.custEvent.add(n.actObj,"dragStart",f),t.custEvent.add(n.actObj,"dragEnd",g),t.custEvent.add(n.actObj,"draging",m)},f=function(i,s){document.body.style.cursor="move";var o=t.core.util.pageSize().page;if(r=t.core.dom.position(n.moveDom),r.pageX=s.pageX,r.pageY=s.pageY,r.height=n.moveDom.offsetHeight,r.width=n.moveDom.offsetWidth,r.pageHeight=o.height,r.pageWidth=o.width,"perch"===n.dragtype){var a=[];a.push(n.perchStyle),a.push("position:absolute"),a.push("z-index:"+(n.moveDom.style.zIndex+10)),a.push("width:"+n.moveDom.offsetWidth+"px"),a.push("height:"+n.moveDom.offsetHeight+"px"),a.push("left:"+r.l+"px"),a.push("top:"+r.t+"px"),h.style.cssText=a.join(";"),c=!0,setTimeout(function(){c&&(document.body.appendChild(h),l=!0)},100)}void 0!==e.setCapture&&e.setCapture()},g=function(t,i){document.body.style.cursor="auto",void 0!==e.setCapture&&e.releaseCapture(),"perch"===n.dragtype&&(c=!1,n.moveDom.style.top=h.style.top,n.moveDom.style.left=h.style.left,l&&(document.body.removeChild(h),l=!1))},m=function(t,e){var i=r.t+(e.pageY-r.pageY),s=r.l+(e.pageX-r.pageX),a=i+r.height,h=s+r.width,l=r.pageHeight-n.pagePadding,c=r.pageWidth-n.pagePadding;l>a&&i>0?o.style.top=i+"px":(0>i&&(o.style.top="0px"),a>=l&&(o.style.top=l-r.height+"px")),c>h&&s>0?o.style.left=s+"px":(0>s&&(o.style.left="0px"),h>=c&&(o.style.left=c-r.width+"px"))};return u(),s.destroy=function(){document.body.style.cursor="auto","function"==typeof o.setCapture&&o.releaseCapture(),"perch"===n.dragtype&&(c=!1,l&&(document.body.removeChild(h),l=!1)),t.custEvent.remove(n.actObj,"dragStart",f),t.custEvent.remove(n.actObj,"dragEnd",g),t.custEvent.remove(n.actObj,"draging",m),a.destroy&&a.destroy(),n=null,o=null,r=null,a=null,h=null,l=null,c=null},s.getActObj=function(){return n.actObj},s}})}),steel.d("ui/dialog",["utils/kit/extra/language","utils/kit/extra/reuse","utils/module/dialog","utils/module/mask","utils/kit/dom/drag"],function(t,e,i){t("utils/kit/extra/language"),t("utils/kit/extra/reuse"),t("utils/module/dialog"),t("utils/module/mask"),t("utils/kit/dom/drag"),STK.register("ui.dialog",function(t){var e='<div class="W_layer" node-type="outer" style="display:none;position:absolute;z-index:10019"><div class="content"><div class="W_layer_title" node-type="title_content"></div><div class="W_layer_close"><a href="javascript:void(0);" class="W_ficon ficon_close S_ficon" title="#L{关闭}" node-type="close">X</a></div><div node-type="inner"></div></div></div>',i=t.utils.kit.extra.language,n=null,s=function(){var n=t.utils.module.dialog(i(e));return t.custEvent.add(n,"show",function(){t.utils.module.mask.showUnderNode(n.getOuter(),{opacity:.5,background:"#000000"})}),t.custEvent.add(n,"hide",function(){t.utils.module.mask.back(),n.setMiddle()}),n.destroy=function(){o(n);try{n.hide(!0)}catch(t){}},n},o=function(t){t.setTitle("").clearContent(),n.setUnused(t)};return function(e){var i=t.parseParam({isHold:!1},e),r=i.isHold;i=t.core.obj.cut(i,["isHold"]),n||(n=t.utils.kit.extra.reuse(s));var a=n.getOne();return r||(t.custEvent.add(a,"hide",function(){t.custEvent.remove(a,"hide",arguments.callee),o(a)}),t.custEvent.add(a,"show",function(){n.setUsed(a)})),a}})}),steel.d("ui/alert",["utils/kit/extra/language","utils/kit/extra/reuse","utils/module/layer","ui/dialog"],function(t,e,i){t("utils/kit/extra/language"),t("utils/kit/extra/reuse"),t("utils/module/layer"),t("ui/dialog"),STK.register("ui.alert",function(t){var e,i='<div node-type="outer"><div class="layer_point" node-type="inner"><dl class="point clearfix"><dt><span class="W_icon" node-type="icon"></span></dt><dd><p class="W_f14" node-type="text"></p></dd></dl></div><div class="W_layer_btn S_bg1"><a class="W_btn_a btn_34px" href="javascript:;" node-type="OK"><span></span></a></div></div>',n={success:"W_icon icon_succB",error:"W_icon icon_rederrorB",warn:"W_icon icon_warnB",question:"W_icon icon_askB"},s=t.utils.kit.extra.language,o=null,r=function(t,e){t.getDom("icon").className=e.icon,t.getDom("text").innerHTML=e.text,t.getDom("OK").innerHTML=e.OKText};return function(a,h){e&&(e.dia.hide(),e=null);var l,c,u,p,d;return l=t.parseParam({title:s("#L{提示}"),icon:"warn",text:a,OK:t.funcEmpty,OKText:s("#L{确定}"),timeout:0},h),l.icon=n[l.icon],c={},o||(o=t.utils.kit.extra.reuse(function(){var e=t.utils.module.layer(s(i));return e})),u=o.getOne(),p=t.ui.dialog(),p.setContent(u.getOuter()),p.setTitle(l.title),r(u,l),t.addEvent(u.getDom("OK"),"click",p.hide),t.custEvent.add(p,"hide",function(){t.custEvent.remove(p,"hide",arguments.callee),t.removeEvent(u.getDom("OK"),"click",p.hide),o.setUnused(u),clearTimeout(d),l.OK()}),l.timeout&&(d=setTimeout(p.hide,l.timeout)),p.show().setMiddle(),c.alt=u,c.dia=p,e=c,c}})}),steel.d("utils/kit/extra/merge",[],function(t,e,i){STK.register("utils.kit.extra.merge",function(t){return function(t,e){var i={};for(var n in t)i[n]=t[n];for(var n in e)i[n]=e[n];return i}})}),steel.d("utils/kit/io/ajax",["utils/kit/extra/merge"],function(t,e,i){t("utils/kit/extra/merge"),STK.register("utils.kit.io.ajax",function(t){return function(e){var i,n,s,o,r,a,h;a=function(t){r=!1,e.onComplete(t,i.args),setTimeout(l,0)},h=function(t){r=!1,e.onFail(t,i.args),setTimeout(l,0)},s=[],o=null,r=!1,i=t.parseParam({url:"",method:"get",responseType:"json",timeout:3e4,onTraning:t.funcEmpty,isEncode:!0},e),i.onComplete=a,i.onFail=h;var l=function(){s.length&&r!==!0&&(r=!0,i.args=s.shift(),o=t.ajax(i))},c=function(t){for(;s.length;)s.shift();if(r=!1,o)try{o.abort()}catch(e){}o=null};return n={},n.request=function(t){t=t||{},t.superuid||!!$CONFIG.superuid&&(t.superuid=$CONFIG.superuid),t||(t={}),e.noQueue&&c(),e.uniqueRequest&&o||(s.push(t),t._t=0,l())},n.abort=c,n}})}),steel.d("utils/kit/io/jsonp",["utils/kit/extra/merge"],function(t,e,i){t("utils/kit/extra/merge"),STK.register("utils.kit.io.jsonp",function(t){return function(e){var i,n,s,o,r;i=t.parseParam({url:"",method:"get",responseType:"json",varkey:"_v",timeout:3e4,onComplete:t.funcEmpty,onTraning:t.funcEmpty,onFail:t.funcEmpty,isEncode:!0},e),s=[],o={},r=!1;var a=function(){s.length&&r!==!0&&(r=!0,o.args=s.shift(),o.onComplete=function(t){r=!1,i.onComplete(t,o.args),setTimeout(a,0)},o.onFail=function(t){r=!1,i.onFail(t),setTimeout(a,0)},t.jsonp(t.utils.kit.extra.merge(i,{args:o.args,onComplete:function(t){o.onComplete(t)},onFail:function(t){try{o.onFail(t)}catch(e){}}})))};return n={},n.request=function(t){t=t||{},t.superuid||!!$CONFIG.superuid&&(t.superuid=$CONFIG.superuid),t||(t={}),s.push(t),t._t=1,a()},n.abort=function(t){for(;s.length;)s.shift();r=!1,o=null},n}})}),steel.d("utils/kit/io/inter",["utils/kit/io/ajax","utils/kit/io/jsonp","utils/kit/extra/merge"],function(t,e,i){t("utils/kit/io/ajax"),t("utils/kit/io/jsonp"),t("utils/kit/extra/merge"),STK.register("utils.kit.io.inter",function(t){return function(){var e,i,n;return e={},i={},n={},e.register=function(t,e){if(void 0!==i[t])throw t+" interface has been registered";i[t]=e,n[t]={}},e.hookComplete=function(e,i){var s=t.core.util.getUniqueKey();return n[e][s]=i,s},e.removeHook=function(t,e){n[t]&&n[t][e]&&delete n[t][e]},e.getTrans=function(e,s){var o=t.utils.kit.extra.merge(i[e],s);return o.onComplete=function(t,i){try{s.onComplete(t,i)}catch(o){}if("100000"===t.code)try{s.onSuccess(t,i)}catch(o){}else try{if("100002"===t.code&&t.data&&"string"==typeof t.data&&0==t.data.indexOf("http"))return void(window.location.href=t.data);if(s.onError(t,i),"100002"===t.code||"100008"===t.code){var r={loginSuccessUrl:t.data.url?"http://weibo.com/p/aj/proxy?api="+t.data.url:""};return window.WBtopGlobal_loginLayer?void window.WBtopGlobal_loginLayer(r):void STK.core.io.scriptLoader({url:"http://tjs.sjs.sinajs.cn/t5/register/js/page/remote/loginLayer.js",onComplete:function(t,e){window.WBtopGlobal_loginLayer(r)}})}}catch(o){}for(var a in n[e])try{n[e][a](t,i)}catch(o){}},"jsonp"===i[e].requestMode?t.utils.kit.io.jsonp(o):"ijax"===i[e].requestMode?t.utils.kit.io.ijax(o):t.utils.kit.io.ajax(o)},e.request=function(e,s,o){var r=t.core.json.merge(i[e],s);return r.onComplete=function(t,i){try{s.onComplete(t,i)}catch(o){}if("100000"===t.code)try{s.onSuccess(t,i)}catch(o){}else try{if("100002"===t.code&&t.data&&"string"==typeof t.data&&0==t.data.indexOf("http"))return void(window.location.href=t.data);s.onError(t,i)}catch(o){}for(var r in n[e])try{n[e][r](t,i)}catch(o){}},r=t.core.obj.cut(r,["noqueue"]),r.args=o,"jsonp"===i[e].requestMode?t.jsonp(r):"ijax"===i[e].requestMode?t.ijax(r):t.ajax(r)},e}})}),steel.d("common/trans/bluev",["utils/kit/io/inter"],function(t,e,i){t("utils/kit/io/inter"),STK.register("common.trans.bluev",function(t){var e=t.utils.kit.io.inter(),i=e.register;return i("send",{url:"/aj/bluev",method:"post"}),i("add",{url:"/aj/bluev",method:"post"}),i("square",{url:"/aj/h5/square",method:"get"}),e})}),steel.d("ui/iscroll",[],function(t,e,i){STK.register("ui.iscroll",function(t){return function(t,e){function i(t,e){this.wrapper="string"==typeof t?document.querySelector(t):t,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={mouseWheelSpeed:20,snapThreshold:.334,infiniteUseTransform:!0,deceleration:.004,disablePointer:!s.hasPointer,disableTouch:s.hasPointer||!s.hasTouch,disableMouse:s.hasPointer||s.hasTouch,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,bindToWrapper:"undefined"==typeof window.onmousedown};for(var i in e)this.options[i]=e[i];this.translateZ=this.options.HWCompositing&&s.hasPerspective?" translateZ(0)":"",this.options.useTransition=s.hasTransition&&this.options.useTransition,this.options.useTransform=s.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"==this.options.eventPassthrough?!1:this.options.scrollY,this.options.scrollX="horizontal"==this.options.eventPassthrough?!1:this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?s.ease[this.options.bounceEasing]||s.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),this.options.useTransition||this.options.useTransform||/relative|absolute/i.test(this.scrollerStyle.position)||(this.scrollerStyle.position="relative"),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.options.infiniteElements&&(this.options.probeType=3),this.options.infiniteUseTransform=this.options.infiniteUseTransform&&this.options.useTransform,3==this.options.probeType&&(this.options.useTransition=!1),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}var n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},s=function(){function t(t){return n===!1?!1:""===n?t:n+t.charAt(0).toUpperCase()+t.substr(1)}var e={},i=document.createElement("div").style,n=function(){for(var t,e=["t","webkitT","MozT","msT","OT"],n=0,s=e.length;s>n;n++)if(t=e[n]+"ransform",t in i)return e[n].substr(0,e[n].length-1);return!1}();e.getTime=Date.now||function(){return(new Date).getTime()},e.extend=function(t,e){for(var i in e)t[i]=e[i]},e.addEvent=function(t,e,i,n){t.addEventListener(e,i,!!n)},e.removeEvent=function(t,e,i,n){t.removeEventListener(e,i,!!n)},e.prefixPointerEvent=function(t){return window.MSPointerEvent?"MSPointer"+t.charAt(7).toUpperCase()+t.substr(8):t},e.momentum=function(t,e,i,n,s,o){var r,a,h=t-e,l=Math.abs(h)/i;return o=void 0===o?6e-4:o,r=t+l*l/(2*o)*(0>h?-1:1),a=l/o,n>r?(r=s?n-s/2.5*(l/8):n,h=Math.abs(r-t),a=h/l):r>0&&(r=s?s/2.5*(l/8):0,h=Math.abs(t)+r,a=h/l),{destination:Math.round(r),duration:a}};var s=t("transform");return e.extend(e,{hasTransform:s!==!1,hasPerspective:t("perspective")in i,hasTouch:"ontouchstart"in window,hasPointer:!(!window.PointerEvent&&!window.MSPointerEvent),hasTransition:t("transition")in i}),e.isBadAndroid=function(){var t=window.navigator.appVersion;if(/Android/.test(t)&&!/Chrome\/\d/.test(t)){var e=t.match(/Safari\/(\d+.\d)/);return e&&"object"==typeof e&&e.length>=2?parseFloat(e[1])<535.19:!0}return!1}(),e.extend(e.style={},{transform:s,transitionTimingFunction:t("transitionTimingFunction"),transitionDuration:t("transitionDuration"),transitionDelay:t("transitionDelay"),transformOrigin:t("transformOrigin")}),e.hasClass=function(t,e){var i=new RegExp("(^|\\s)"+e+"(\\s|$)");return i.test(t.className)},e.addClass=function(t,i){if(!e.hasClass(t,i)){var n=t.className.split(" ");n.push(i),t.className=n.join(" ")}},e.removeClass=function(t,i){if(e.hasClass(t,i)){var n=new RegExp("(^|\\s)"+i+"(\\s|$)","g");t.className=t.className.replace(n," ")}},e.offset=function(t){for(var e=-t.offsetLeft,i=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,i-=t.offsetTop;return{left:e,top:i}},e.preventDefaultException=function(t,e){for(var i in e)if(e[i].test(t[i]))return!0;return!1},e.extend(e.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),e.extend(e.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(t){return Math.sqrt(1- --t*t)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(t){var e=4;return(t-=1)*t*((e+1)*t+e)+1}},bounce:{style:"",fn:function(t){return(t/=1)<1/2.75?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},elastic:{style:"",fn:function(t){var e=.22,i=.4;return 0===t?0:1==t?1:i*Math.pow(2,-10*t)*Math.sin(2*(t-e/4)*Math.PI/e)+1}}}),e.tap=function(t,e){var i=document.createEvent("Event");i.initEvent(e,!0,!0),i.pageX=t.pageX,i.pageY=t.pageY,t.target.dispatchEvent(i)},e.click=function(t){var e,i=t.target;/(SELECT|INPUT|TEXTAREA)/i.test(i.tagName)||(e=document.createEvent(window.MouseEvent?"MouseEvents":"Event"),e.initEvent("click",!0,!0),e.view=t.view||window,e.detail=1,e.screenX=i.screenX||0,e.screenY=i.screenY||0,e.clientX=i.clientX||0,e.clientY=i.clientY||0,e.ctrlKey=!!t.ctrlKey,e.altKey=!!t.altKey,e.shiftKey=!!t.shiftKey,e.metaKey=!!t.metaKey,e.button=0,e.relatedTarget=null,e._constructed=!0,i.dispatchEvent(e))},e}();return i.prototype={version:"5.2.0",_init:function(){this._initEvents(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys(),this.options.infiniteElements&&this._initInfinite()},destroy:function(){this._initEvents(!0),clearTimeout(this.resizeTimeout),this.resizeTimeout=null,this._execEvent("destroy")},_transitionEnd:function(t){t.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(t){if(1!=s.eventType[t.type]){var e;if(e=t.which?t.button:t.button<2?0:4==t.button?1:2,0!==e)return}if(this.enabled&&(!this.initiated||s.eventType[t.type]===this.initiated)){!this.options.preventDefault||s.isBadAndroid||s.preventDefaultException(t.target,this.options.preventDefaultException)||t.preventDefault();var i,n=t.touches?t.touches[0]:t;this.initiated=s.eventType[t.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this.startTime=s.getTime(),this.options.useTransition&&this.isInTransition?(this._transitionTime(),this.isInTransition=!1,i=this.getComputedPosition(),this._translate(Math.round(i.x),Math.round(i.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=n.pageX,this.pointY=n.pageY,this._execEvent("beforeScrollStart")}},_move:function(t){if(this.enabled&&s.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();var e,i,n,o,r=t.touches?t.touches[0]:t,a=r.pageX-this.pointX,h=r.pageY-this.pointY,l=s.getTime();if(this.pointX=r.pageX,this.pointY=r.pageY,this.distX+=a,this.distY+=h,n=Math.abs(this.distX),o=Math.abs(this.distY),!(l-this.endTime>300&&10>n&&10>o)){if(this.directionLocked||this.options.freeScroll||(this.directionLocked=n>o+this.options.directionLockThreshold?"h":o>=n+this.options.directionLockThreshold?"v":"n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)t.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);h=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)t.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);a=0}a=this.hasHorizontalScroll?a:0,h=this.hasVerticalScroll?h:0,e=this.x+a,i=this.y+h,(e>0||e<this.maxScrollX)&&(e=this.options.bounce?this.x+a/3:e>0?0:this.maxScrollX),(i>0||i<this.maxScrollY)&&(i=this.options.bounce?this.y+h/3:i>0?0:this.maxScrollY),this.directionX=a>0?-1:0>a?1:0,this.directionY=h>0?-1:0>h?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(e,i),l-this.startTime>300&&(this.startTime=l,this.startX=this.x,this.startY=this.y,1==this.options.probeType&&this._execEvent("scroll")),this.options.probeType>1&&this._execEvent("scroll")}}},_end:function(t){if(this.enabled&&s.eventType[t.type]===this.initiated){this.options.preventDefault&&!s.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault();var e,i,n=(t.changedTouches?t.changedTouches[0]:t,s.getTime()-this.startTime),o=Math.round(this.x),r=Math.round(this.y),a=Math.abs(o-this.startX),h=Math.abs(r-this.startY),l=0,c="";if(this.isInTransition=0,this.initiated=0,this.endTime=s.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(o,r),!this.moved)return this.options.tap&&s.tap(t,this.options.tap),this.options.click&&s.click(t),void this._execEvent("scrollCancel");if(this._events.flick&&200>n&&100>a&&100>h)return void this._execEvent("flick");if(this.options.momentum&&300>n&&(e=this.hasHorizontalScroll?s.momentum(this.x,this.startX,n,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:o,duration:0},i=this.hasVerticalScroll?s.momentum(this.y,this.startY,n,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:r,duration:0},o=e.destination,r=i.destination,l=Math.max(e.duration,i.duration),this.isInTransition=1),this.options.snap){var u=this._nearestSnap(o,r);this.currentPage=u,l=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(o-u.x),1e3),Math.min(Math.abs(r-u.y),1e3)),300),o=u.x,r=u.y,this.directionX=0,this.directionY=0,c=this.options.bounceEasing}return o!=this.x||r!=this.y?((o>0||o<this.maxScrollX||r>0||r<this.maxScrollY)&&(c=s.ease.quadratic),void this.scrollTo(o,r,l,c)):void this._execEvent("scrollEnd")}}},_resize:function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling)},resetPosition:function(t){var e=this.x,i=this.y;return t=t||0,!this.hasHorizontalScroll||this.x>0?e=0:this.x<this.maxScrollX&&(e=this.maxScrollX),!this.hasVerticalScroll||this.y>0?i=0:this.y<this.maxScrollY&&(i=this.maxScrollY),e==this.x&&i==this.y?!1:(this.scrollTo(e,i,t,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth;var t;this.options.infiniteElements&&(this.options.infiniteLimit=this.options.infiniteLimit||Math.floor(2147483645/this.infiniteElementHeight),t=-this.options.infiniteLimit*this.infiniteElementHeight+this.wrapperHeight),this.maxScrollY=void 0!==t?t:this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=s.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)},off:function(t,e){if(this._events[t]){var i=this._events[t].indexOf(e);i>-1&&this._events[t].splice(i,1)}},_execEvent:function(t){if(this._events[t]){var e=0,i=this._events[t].length;if(i)for(;i>e;e++)this._events[t][e].apply(this,[].slice.call(arguments,1))}},scrollBy:function(t,e,i,n){t=this.x+t,e=this.y+e,i=i||0,this.scrollTo(t,e,i,n)},scrollTo:function(t,e,i,n){n=n||s.ease.circular,this.isInTransition=this.options.useTransition&&i>0;var o=this.options.useTransition&&n.style;!i||o?(o&&(this._transitionTimingFunction(n.style),this._transitionTime(i)),this._translate(t,e)):this._animate(t,e,i,n.fn)},scrollToElement:function(t,e,i,n,o){if(t=t.nodeType?t:this.scroller.querySelector(t)){var r=s.offset(t);r.left-=this.wrapperOffset.left,r.top-=this.wrapperOffset.top,i===!0&&(i=Math.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),n===!0&&(n=Math.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),r.left-=i||0,r.top-=n||0,r.left=r.left>0?0:r.left<this.maxScrollX?this.maxScrollX:r.left,r.top=r.top>0?0:r.top<this.maxScrollY?this.maxScrollY:r.top,e=void 0===e||null===e||"auto"===e?Math.max(Math.abs(this.x-r.left),Math.abs(this.y-r.top)):e,this.scrollTo(r.left,r.top,e,o)}},_transitionTime:function(t){if(this.options.useTransition){t=t||0;var e=s.style.transitionDuration;if(e&&(this.scrollerStyle[e]=t+"ms",!t&&s.isBadAndroid)){this.scrollerStyle[e]="0.0001ms";var i=this;

n(function(){"0.0001ms"===i.scrollerStyle[e]&&(i.scrollerStyle[e]="0s")})}}},_transitionTimingFunction:function(t){this.scrollerStyle[s.style.transitionTimingFunction]=t},_translate:function(t,e){this.options.useTransform?this.scrollerStyle[s.style.transform]="translate("+t+"px,"+e+"px)"+this.translateZ:(t=Math.round(t),e=Math.round(e),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=e+"px"),this.x=t,this.y=e},_initEvents:function(t){var e=t?s.removeEvent:s.addEvent,i=this.options.bindToWrapper?this.wrapper:window;e(window,"orientationchange",this),e(window,"resize",this),this.options.click&&e(this.wrapper,"click",this,!0),this.options.disableMouse||(e(this.wrapper,"mousedown",this),e(i,"mousemove",this),e(i,"mousecancel",this),e(i,"mouseup",this)),s.hasPointer&&!this.options.disablePointer&&(e(this.wrapper,s.prefixPointerEvent("pointerdown"),this),e(i,s.prefixPointerEvent("pointermove"),this),e(i,s.prefixPointerEvent("pointercancel"),this),e(i,s.prefixPointerEvent("pointerup"),this)),s.hasTouch&&!this.options.disableTouch&&(e(this.wrapper,"touchstart",this),e(i,"touchmove",this),e(i,"touchcancel",this),e(i,"touchend",this)),e(this.scroller,"transitionend",this),e(this.scroller,"webkitTransitionEnd",this),e(this.scroller,"oTransitionEnd",this),e(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var t,e,i=window.getComputedStyle(this.scroller,null);return this.options.useTransform?(i=i[s.style.transform].split(")")[0].split(", "),t=+(i[12]||i[4]),e=+(i[13]||i[5])):(t=+i.left.replace(/[^-\d.]/g,""),e=+i.top.replace(/[^-\d.]/g,"")),{x:t,y:e}},_initWheel:function(){s.addEvent(this.wrapper,"wheel",this),s.addEvent(this.wrapper,"mousewheel",this),s.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){clearTimeout(this.wheelTimeout),this.wheelTimeout=null,s.removeEvent(this.wrapper,"wheel",this),s.removeEvent(this.wrapper,"mousewheel",this),s.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(t){if(this.enabled){t.preventDefault();var e,i,n,s,o=this;if(void 0===this.wheelTimeout&&o._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){o.options.snap||o._execEvent("scrollEnd"),o.wheelTimeout=void 0},400),"deltaX"in t)1===t.deltaMode?(e=-t.deltaX*this.options.mouseWheelSpeed,i=-t.deltaY*this.options.mouseWheelSpeed):(e=-t.deltaX,i=-t.deltaY);else if("wheelDeltaX"in t)e=t.wheelDeltaX/120*this.options.mouseWheelSpeed,i=t.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in t)e=i=t.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in t))return;e=i=-t.detail/3*this.options.mouseWheelSpeed}if(e*=this.options.invertWheelDirection,i*=this.options.invertWheelDirection,this.hasVerticalScroll||(e=i,i=0),this.options.snap)return n=this.currentPage.pageX,s=this.currentPage.pageY,e>0?n--:0>e&&n++,i>0?s--:0>i&&s++,void this.goToPage(n,s);n=this.x+Math.round(this.hasHorizontalScroll?e:0),s=this.y+Math.round(this.hasVerticalScroll?i:0),this.directionX=e>0?-1:0>e?1:0,this.directionY=i>0?-1:0>i?1:0,n>0?n=0:n<this.maxScrollX&&(n=this.maxScrollX),s>0?s=0:s<this.maxScrollY&&(s=this.maxScrollY),this.scrollTo(n,s,0),this.options.probeType>1&&this._execEvent("scroll")}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var t,e,i,n,s,o,r=0,a=0,h=0,l=this.options.snapStepX||this.wrapperWidth,c=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(i=Math.round(l/2),n=Math.round(c/2);h>-this.scrollerWidth;){for(this.pages[r]=[],t=0,s=0;s>-this.scrollerHeight;)this.pages[r][t]={x:Math.max(h,this.maxScrollX),y:Math.max(s,this.maxScrollY),width:l,height:c,cx:h-i,cy:s-n},s-=c,t++;h-=l,r++}else for(o=this.options.snap,t=o.length,e=-1;t>r;r++)(0===r||o[r].offsetLeft<=o[r-1].offsetLeft)&&(a=0,e++),this.pages[a]||(this.pages[a]=[]),h=Math.max(-o[r].offsetLeft,this.maxScrollX),s=Math.max(-o[r].offsetTop,this.maxScrollY),i=h-Math.round(o[r].offsetWidth/2),n=s-Math.round(o[r].offsetHeight/2),this.pages[a][e]={x:h,y:s,width:o[r].offsetWidth,height:o[r].offsetHeight,cx:i,cy:n},h>this.maxScrollX&&a++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1===0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var t=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.x-this.startX),1e3),Math.min(Math.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,t)})},_nearestSnap:function(t,e){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var i=0,n=this.pages.length,s=0;if(Math.abs(t-this.absStartX)<this.snapThresholdX&&Math.abs(e-this.absStartY)<this.snapThresholdY)return this.currentPage;for(t>0?t=0:t<this.maxScrollX&&(t=this.maxScrollX),e>0?e=0:e<this.maxScrollY&&(e=this.maxScrollY);n>i;i++)if(t>=this.pages[i][0].cx){t=this.pages[i][0].x;break}for(n=this.pages[i].length;n>s;s++)if(e>=this.pages[0][s].cy){e=this.pages[0][s].y;break}return i==this.currentPage.pageX&&(i+=this.directionX,0>i?i=0:i>=this.pages.length&&(i=this.pages.length-1),t=this.pages[i][0].x),s==this.currentPage.pageY&&(s+=this.directionY,0>s?s=0:s>=this.pages[0].length&&(s=this.pages[0].length-1),e=this.pages[0][s].y),{x:t,y:e,pageX:i,pageY:s}},goToPage:function(t,e,i,n){n=n||this.options.bounceEasing,t>=this.pages.length?t=this.pages.length-1:0>t&&(t=0),e>=this.pages[t].length?e=this.pages[t].length-1:0>e&&(e=0);var s=this.pages[t][e].x,o=this.pages[t][e].y;i=void 0===i?this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(s-this.x),1e3),Math.min(Math.abs(o-this.y),1e3)),300):i,this.currentPage={x:s,y:o,pageX:t,pageY:e},this.scrollTo(s,o,i,n)},next:function(t,e){var i=this.currentPage.pageX,n=this.currentPage.pageY;i++,i>=this.pages.length&&this.hasVerticalScroll&&(i=0,n++),this.goToPage(i,n,t,e)},prev:function(t,e){var i=this.currentPage.pageX,n=this.currentPage.pageY;i--,0>i&&this.hasVerticalScroll&&(i=0,n--),this.goToPage(i,n,t,e)},_initKeys:function(t){var e,i={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(e in this.options.keyBindings)"string"==typeof this.options.keyBindings[e]&&(this.options.keyBindings[e]=this.options.keyBindings[e].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(e in i)this.options.keyBindings[e]=this.options.keyBindings[e]||i[e];s.addEvent(window,"keydown",this),this.on("destroy",function(){s.removeEvent(window,"keydown",this)})},_key:function(t){if(this.enabled){var e,i=this.options.snap,n=i?this.currentPage.pageX:this.x,o=i?this.currentPage.pageY:this.y,r=s.getTime(),a=this.keyTime||0,h=.25;switch(this.options.useTransition&&this.isInTransition&&(e=this.getComputedPosition(),this._translate(Math.round(e.x),Math.round(e.y)),this.isInTransition=!1),this.keyAcceleration=200>r-a?Math.min(this.keyAcceleration+h,50):0,t.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?n+=i?1:this.wrapperWidth:o+=i?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?n-=i?1:this.wrapperWidth:o-=i?1:this.wrapperHeight;break;case this.options.keyBindings.end:n=i?this.pages.length-1:this.maxScrollX,o=i?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:n=0,o=0;break;case this.options.keyBindings.left:n+=i?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:o+=i?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:n-=i?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:o-=i?1:5+this.keyAcceleration>>0;break;default:return}if(i)return void this.goToPage(n,o);n>0?(n=0,this.keyAcceleration=0):n<this.maxScrollX&&(n=this.maxScrollX,this.keyAcceleration=0),o>0?(o=0,this.keyAcceleration=0):o<this.maxScrollY&&(o=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(n,o,0),this.keyTime=r}},_animate:function(t,e,i,o){function r(){var p,d,f,g=s.getTime();return g>=u?(a.isAnimating=!1,a._translate(t,e),void(a.resetPosition(a.options.bounceTime)||a._execEvent("scrollEnd"))):(g=(g-c)/i,f=o(g),p=(t-h)*f+h,d=(e-l)*f+l,a._translate(p,d),a.isAnimating&&n(r),void(3==a.options.probeType&&a._execEvent("scroll")))}var a=this,h=this.x,l=this.y,c=s.getTime(),u=c+i;this.isAnimating=!0,r()},_initInfinite:function(){var t=this.options.infiniteElements;this.infiniteElements="string"==typeof t?document.querySelectorAll(t):t,this.infiniteLength=this.infiniteElements.length,this.infiniteMaster=this.infiniteElements[0],this.infiniteElementHeight=this.infiniteMaster.offsetHeight,this.infiniteHeight=this.infiniteLength*this.infiniteElementHeight,this.options.cacheSize=this.options.cacheSize||1e3,this.infiniteCacheBuffer=Math.round(this.options.cacheSize/4),this.options.dataset.call(this,0,this.options.cacheSize),this.on("refresh",function(){var t=Math.ceil(this.wrapperHeight/this.infiniteElementHeight);this.infiniteUpperBufferSize=Math.floor((this.infiniteLength-t)/2),this.reorderInfinite()}),this.on("scroll",this.reorderInfinite)},reorderInfinite:function(){for(var t=(-this.y+this.wrapperHeight/2,Math.max(Math.floor(-this.y/this.infiniteElementHeight)-this.infiniteUpperBufferSize,0)),e=Math.floor(t/this.infiniteLength),i=t-e*this.infiniteLength,n=0,o=0,r=[],a=Math.floor(t/this.infiniteCacheBuffer);o<this.infiniteLength;)n=o*this.infiniteElementHeight+e*this.infiniteHeight,i>o&&(n+=this.infiniteElementHeight*this.infiniteLength),this.infiniteElements[o]._top!==n&&(this.infiniteElements[o]._phase=n/this.infiniteElementHeight,this.infiniteElements[o]._phase<this.options.infiniteLimit&&(this.infiniteElements[o]._top=n,this.options.infiniteUseTransform?this.infiniteElements[o].style[s.style.transform]="translate(0, "+n+"px)"+this.translateZ:this.infiniteElements[o].style.top=n+"px",r.push(this.infiniteElements[o]))),o++;this.cachePhase!=a&&(0===a||t-this.infiniteCacheBuffer>0)&&this.options.dataset.call(this,Math.max(a*this.infiniteCacheBuffer-this.infiniteCacheBuffer,0),this.options.cacheSize),this.cachePhase=a,this.updateContent(r)},updateContent:function(t){if(void 0!==this.infiniteCache)for(var e=0,i=t.length;i>e;e++)this.options.dataFiller.call(this,t[e],this.infiniteCache[t[e]._phase])},updateCache:function(t,e){var i=void 0===this.infiniteCache;this.infiniteCache={};for(var n=0,s=e.length;s>n;n++)this.infiniteCache[t++]=e[n];i&&this.updateContent(this.infiniteElements)},handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(t);break;case"keydown":this._key(t);break;case"click":this.enabled&&!t._constructed&&(t.preventDefault(),t.stopPropagation())}}},i.utils=s,new i(t,e)}})}),steel.d("components/home/logic",["utils/kit/dom/parseDOM","ui/alert","common/trans/bluev","ui/dialog","ui/iscroll"],function(t,e,i){t("utils/kit/dom/parseDOM"),t("ui/alert"),t("common/trans/bluev"),t("ui/dialog"),t("ui/iscroll");var n=STK;i.exports=function(t){var e={},i=n.delegatedEvent(t),s={DOM:{},objs:{},DOM_eventFun:{},bindCustEvtFuns:{},bindDelegatedEvtFuns:{},bindListenerFuns:{},requestData:function(t,e){n.common.trans.bluev.getTrans("square",{onSuccess:function(e){s.objs.scroll.updateCache(t,data)},onError:function(t){console.log("Error")},onFail:function(t){console.log("Fail")}}).request()},updateContent:function(t,e){t.innerHTML=e}},o=function(){if(null==t||null!=t&&!n.isNode(t))throw"[]:argsCheck()-The param node is not a DOM node."},r=function(){s.DOM=n.utils.kit.dom.parseDOM(n.builder(t).list)},a=function(){s.DOM["scroll-loader"];s.objs.iscroll=n.ui.iscroll(s.DOM.wrapper_list,{infiniteElements:"#content .itemWrapper",dataset:s.requestData,dataFilter:s.updateContent,infiniteLimit:100,onPullDown:function(){alert(1)},onRefresh:function(){alert(111)},onScrollMove:function(){console.log(222)},onScrollEnd:function(){console.log(333)}})},h=function(){n.addEvent(document,"touchmove",function(t){t.preventDefault()})},l=function(){},c=function(){},u=function(){},p=function(){i.destroy(),s&&(n.forEach(s.objs,function(t){t&&t.destroy&&t.destroy()}),s=null)},d=function(){o(),r(),a(),h(),l(),c(),u()};return d(),e.destroy=p,e}});